<!DOCTYPE html><html><head><title>Admin Login</title><link rel="stylesheet" href="css/style.css"></head>
<body><header><h1>ADMIN LOGIN</h1></header>
<input type="text" id="u" placeholder="Username"><br>
<input type="password" id="p" placeholder="Password"><br>
<button onclick="login()">Login</button>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="js/main.js"></script>
<script>
async function login() {
  const hash = await crypto.subtle.digest('SHA-256', new TextEncoder().encode(document.getElementById('p').value))
    .then(h => Array.from(new Uint8Array(h)).map(b=>b.toString(16).padStart(2,'0')).join(''));
  const { data } = await supabase.from('admins').select().eq('username', document.getElementById('u').value).single();
  if (data && data.password_hash === hash) {
    localStorage.setItem('admin','true');
    location.href='admin-dashboard.html';
  } else alert('Wrong!');
}
</script>
</body></html>
